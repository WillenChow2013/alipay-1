# dorun-alipay
*东润支付宝生活缴平台*
## 系统概述
该系统为水司机构与邦道公共服务器平台之间进行通讯的总服务器，同时该系统也与水司机构的服务器进行通讯。该系统公共服务器平台之间采用SSL Socket通信技术。
考虑到水司机构的技术成本，系统与水司机构进行通讯时候采用http协议，考虑通讯数据的安全，通讯数据须进行RAS对称加密。本系统采用私钥加密和解密
水司机构采用公钥进行加解密。
  
  
SSL Socket通信是对socket通信的扩展，在socket通信的基础上添加了一层安全性保护，提供了更高的安全性，包括身份验证、数据加密以及完整性验证。身份验证用户数字证书的发放和应用；
数据加密可以防止消息传递过程中被别人监听而造成的损失，即使第三方监听到传递的消息，但是由于没有正确的密钥，其仍然无法得到正确的消息；完整性验证以防止消息在传递过程中被别人篡改。  
  
  
SSL采用双向证书认证同时认证服务端的合法性和客户端的合法性。


用SSL通信技术后，收到数据后和发送数据前的都不需要进行特殊的处理，与普通的socket通信技术没有差别。差别部分是在建立socket连接或者监听socket连接的过程。要使用SSL双向认证通信技术，必须客户端和服务端都需要有证书。

## 用到的关键框架
* SpringBoot V2.1.8.RELEASE
* MybatisPlus V3.2.0
* netty v5.0.0.Alpha2


SpringBoot 作为整个框架的粘合剂，特别地，我们把netty交给了SpringBoot容器管理。
## 关于netty整合的一些想法
当然，基于技术的熟练度，在这里我们对netty的应用应该是比较粗糙。但是考虑netty的优势，我还是选择netty作为socket通讯框架，他能为我们干很多的事情，这比我们手写socket框架要稳定得多。

总得来说，经过一些时间的摸索，netty模块还是比较简单整合起来了，共整合了四个关键的类

* NettyServerListener:netty服务启动监听
* NettyServerHandler：通道适配器，主要用于多线程共享
* RequestDispatcher：请求分排器
* ContextSSLFactory：加载SSL证书

在这里，我需要特别提到的是：*在请求分排器里，利用ExecutorService*
